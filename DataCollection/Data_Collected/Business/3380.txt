Updated, 9:50 p.m. | Investors in billions of dollars of Puerto Rico bonds secured a major legal victory when a federal judge ruled that the commonwealth’s recently enacted debt-restructuring law was unconstitutional.In the decision Friday night, Judge Francisco A. Besosa of the United States District Court in Puerto Rico said the Puerto Rico Public Corporations Debt Enforcement and Recovery Act was void and enjoined commonwealth officials from enforcing it.The recovery act was passed by Puerto Rico lawmakers last summer to enable the commonwealth to overhaul the debts and labor contracts of the island’s struggling public corporations, including the Puerto Rico Electric Power Authority, which is known by its acronym, Prepa.Like states, Puerto Rico cannot seek protection from creditors under federal bankruptcy law, leaving the commonwealth with few ways to straighten out the finances of troubled agencies like Prepa, which supplies electricity to the island’s roughly 3.6 million people.A group of Prepa bond holders, including BlueMountain Capital and OppenheimerFunds, that own about $2 billion of the power’s authority’s debt sued the commonwealth in federal court, arguing that the recovery act violated their contractual rights.The ruling is “a major victory for municipal bondholders,” Amy Caton, a lawyer for Oppenheimer and Franklin Mutual, another Prepa investor, said in a statement.The passage of the recovery act in June rattled investors, particularly hedge funds, which had been buying up bonds issued by Prepa and other Puerto Rico entities at distressed prices. Investors feared that the new law showed how the government of Puerto Rico was willing to unilaterally change the rules, without warning.The law spawned a spate of downgrades by the ratings firm Moody’s, which had already rated the commonwealth’s debt as junk.On Friday, Judge Besosa denied the commonwealth’s motion to dismiss the investors’ lawsuit, saying that the recovery act was pre-empted by federal bankruptcy law.“The commonwealth defendants, and their successors in office, are permanently enjoined from enforcing the recovery act,” he wrote in a 75-page decision.A spokesman for the Government Development Bank, which oversees the commonwealth’s debt deals, said: “We will be reviewing all the aspects of the ruling rendered by Judge Francisco Besosa. In due time and after careful examination, we will decide on a course of action.”The ruling is a significant setback for the Puerto Rico government, which has been engaged in a high-wire act — trying to restructure the debts of its public corporations while still maintaining the confidence of the municipal bond market that it needs to keep financing its operations.The recovery act allows for the revamping of debts at certain public corporations. But it does not apply to the commonwealth’s general obligation bonds.Prepa is mired in about $9 billion in municipal bond and other debt and has been struggling with high fuel costs, though the drop in oil prices has relieved some of that strain.“This is a victory for the rule of law,” said Laurence L. Gottlieb, chairman and chief executive of Fundamental Advisors, a hedge fund and private equity firm with investments in Puerto Rico debt. “But now the question is what’s next in terms of dealing with Prepa’s debt.”